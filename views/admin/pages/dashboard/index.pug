extends ../../layouts/default.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug
include ../../mixins/pagination.pug
include ../../mixins/form-change-multi.pug
include ../../mixins/alert.pug

block main

  h1 Danh sách nhân viên

  //- .card.mb-3
  //-     .card-header Bộ lọc và Tìm kiếm
  //-     .card-body
  //-     .row
  //-       .col-6
  //-         +filter-status(filterStatus)
  //-       .col-6
  //-         +search(keyword)
  .card.mb-3
    .card-header Danh sách
      .card-body
        .row
          .col-8
            +form-change-multi(`/admin/products/change-multi?_method=PATCH`)
          .col-4
            a(
              href=`/admin/dashboard/create`
              class="btn btn-outline-success"
            ) + Thêm mới
            

        table(
          class="table table-hover table-sm"
          checkbox-multi
        )
          thead
            tr
              th
                input(type="checkbox" name="checkall")

              th Card UID
              th Họ tên
              th Giới tính
              th Ngày vào làm
              th Phòng ban
              th Hành động

          tbody
          each item, index in employees
              tr 
                td
                  input(
                    type="checkbox"
                    name="id"
                    value=""
                  )
                td #{item.uid}
                td #{item.name}
                if(item.gender == true)
                  td Nam
                else
                  td Nữ
                td #{item.date.toISOString().split("T")[0]}
                td #{item.department}
                //- td
                //-   if(item.status == "active")
                //-     a(
                //-       href="javascript:;"
                //-       data-status=item.status
                //-       data-id=item.id
                //-       button-change-status
                //-       class="badge badge-success"
                //-     ) Hoạt động
                //-   else
                //-     a(
                //-       href="javascript:;"
                //-       data-status=item.status
                //-       data-id=item.id
                //-       button-change-status
                //-       class="badge badge-danger"
                //-     ) Dừng hoạt động
                td
                  a(
                    href=`/admin/dashboard/edit/${item.id}`
                    class="btn btn-warning btn-sm"
                  ) Sửa
                  button(
                    class="btn btn-danger btn-sm ml-1"
                    button-delete
                    data-id=item.id
                  ) Xóa
  +pagination(pagination)

  //- form(
  //-   action=""
  //-   method="POST"
  //-   id="form-change-status"
  //-   data-path=`/admin/products/change-status`
  //- )

  form(
    action=""
    method="POST"
    id="form-delete-item"
    data-path = `/admin/dashboard/delete`
  )
  script(src="/admin/js/employee.js")